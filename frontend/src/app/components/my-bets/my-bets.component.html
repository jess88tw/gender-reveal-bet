<div class="my-bets-container">
  <header class="page-header">
    <a routerLink="/" class="back-btn">â† è¿”å›</a>
    <h1>ğŸ“‹ æˆ‘çš„ä¸‹æ³¨</h1>
  </header>

  @if (!isLoggedIn()) {
    <div class="login-prompt">
      <p>è«‹å…ˆç™»å…¥æŸ¥çœ‹æ‚¨çš„ä¸‹æ³¨è¨˜éŒ„</p>
      <a routerLink="/" class="btn btn-primary">è¿”å›é¦–é ç™»å…¥</a>
    </div>
  } @else if (loading()) {
    <div class="loading">
      <div class="spinner"></div>
      <p>è¼‰å…¥ä¸­...</p>
    </div>
  } @else {
    @if (myBets().length === 0) {
      <div class="empty-state">
        <p>æ‚¨é‚„æ²’æœ‰ä¸‹æ³¨è¨˜éŒ„</p>
        <a routerLink="/bet" class="btn btn-primary">ç«‹å³ä¸‹æ³¨</a>
      </div>
    } @else {
      <!-- My Bet Info -->
      @for (bet of myBets(); track bet.id) {
        <div class="my-bet-card" [class.boy]="bet.gender === 'BOY'" [class.girl]="bet.gender === 'GIRL'">
          <div class="bet-icon">
            {{ bet.gender === 'BOY' ? 'ğŸ‘¦' : 'ğŸ‘§' }}
          </div>
          <div class="bet-info">
            <p class="bet-gender">
              æˆ‘æŠ¼ {{ bet.gender === 'BOY' ? 'ç”·ç”Ÿ' : 'å¥³ç”Ÿ' }}
            </p>
            <p class="bet-amount">NT$ {{ bet.amount | number }}</p>
            <p class="bet-date">
              {{ bet.createdAt | date:'yyyy/MM/dd HH:mm' }}
            </p>
          </div>
          <div
            class="bet-status"
            [class.paid]="bet.isPaid"
            [class.unpaid]="!bet.isPaid"
          >
            @if (bet.isPaid) {
              âœ“ å·²ä»˜æ¬¾
            } @else {
              å¾…ä»˜æ¬¾
            }
          </div>
        </div>
      }

      @if (!myBets()[0].isPaid) {
        <div class="payment-reminder">
          <h4>ğŸ’³ ä»˜æ¬¾æé†’</h4>
          <p>è«‹æ–¼ä¸‹æ³¨å¾Œ 3 æ—¥å…§å®Œæˆä»˜æ¬¾</p>
          <!-- TODO: æŠŠæ•æ„Ÿè³‡æ–™éƒ½æ”¾åˆ°ä¸€å€‹ config æˆ–ç’°å¢ƒè®Šæ•¸ä¸­ -->
          <p>åŒ¯æ¬¾å¸³è™Ÿ: XXX-XXXX-XXXX-XXXX</p>
          <p>åŒ¯æ¬¾å¾Œè«‹é€šçŸ¥ä¸»è¾¦äººç¢ºèª</p>
        </div>
      }
    }
  }
</div>
