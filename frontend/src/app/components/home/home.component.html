<div class="home-container">
  <!-- Hero Section -->
  <section class="hero">
    <h1>ğŸ€ å¯¶å¯¶æ€§åˆ¥æ­æ›‰æ´¾å° ğŸ‘¶</h1>
    <p class="subtitle">çŒœçŒœçœ‹æ˜¯ç”·ç”Ÿé‚„æ˜¯å¥³ç”Ÿï¼Ÿ</p>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    @if (loading()) {
      <div class="loading">
        <div class="spinner"></div>
        <p>è¼‰å…¥ä¸­...</p>
      </div>
    } @else {
      <div class="stats-container">
        <!-- Boy Box -->
        <div class="bet-box boy-box">
          <div class="box-icon">ğŸ‘¦</div>
          <h2>ç”·ç”Ÿ</h2>
          @if (stats()) {
            <div class="stats-info">
              <p class="amount">NT$ {{ stats()!.boy.totalAmount | number }}</p>
              <p class="tickets">{{ stats()!.boy.totalTickets }} å¼µç±¤</p>
              <div class="percentage-bar">
                <div
                  class="fill boy-fill"
                  [style.width.%]="boyPercentage()"
                ></div>
              </div>
              <p class="percentage">{{ boyPercentage() }}%</p>
            </div>
          }
        </div>

        <!-- VS -->
        <div class="vs-divider">
          <span>VS</span>
        </div>

        <!-- Girl Box -->
        <div class="bet-box girl-box">
          <div class="box-icon">ğŸ‘§</div>
          <h2>å¥³ç”Ÿ</h2>
          @if (stats()) {
            <div class="stats-info">
              <p class="amount">NT$ {{ stats()!.girl.totalAmount | number }}</p>
              <p class="tickets">{{ stats()!.girl.totalTickets }} å¼µç±¤</p>
              <div class="percentage-bar">
                <div
                  class="fill girl-fill"
                  [style.width.%]="girlPercentage()"
                ></div>
              </div>
              <p class="percentage">{{ girlPercentage() }}%</p>
            </div>
          }
        </div>
      </div>

      <!-- Total Prize Pool -->
      <div class="prize-pool">
        <h3>ğŸ ç¸½çé‡‘æ± </h3>
        <p class="total-amount">NT$ {{ totalPrizePool() | number }}</p>
        @if (stats()) {
          <p class="total-participants">å…± {{ stats()!.totalUsers }} äººåƒèˆ‡</p>
        }
      </div>
    }
  </section>

  <!-- Action Section -->
  <section class="action-section">
    @if (isLoggedIn()) {
      <div class="user-info">
        <p>æ­¡è¿, {{ currentUser()?.name }}!</p>
        <div class="action-buttons">
          <a routerLink="/bet" class="btn btn-primary">ç«‹å³ä¸‹æ³¨</a>
          <a routerLink="/my-bets" class="btn btn-secondary">æˆ‘çš„ä¸‹æ³¨</a>
          <button (click)="logout()" class="btn btn-outline">ç™»å‡º</button>
        </div>
      </div>
    } @else {
      <div class="login-section">
        <p>ç™»å…¥å¾Œå³å¯åƒèˆ‡ä¸‹æ³¨ï¼</p>
        <div class="login-buttons">
          <button (click)="loginWithGoogle()" class="btn btn-google">
            <span class="icon">G</span> ä½¿ç”¨ Google ç™»å…¥
          </button>
          <button (click)="loginWithLine()" class="btn btn-line">
            <span class="icon">L</span> ä½¿ç”¨ LINE ç™»å…¥
          </button>
        </div>
      </div>
    }
  </section>

  <!-- Rules Section -->
  <section class="rules-section">
    <h3>ğŸ“‹ ä¸‹æ³¨è¦å‰‡</h3>
    <ul>
      <li>ğŸ’° ä¸€å¼µç±¤ NT$200</li>
      <li>ğŸ“¦ å¯åŒæ™‚ä¸‹æ³¨ç”·ç”Ÿå’Œå¥³ç”Ÿç®±å­</li>
      <li>â™¾ï¸ ç„¡ä¸‹æ³¨ä¸Šé™</li>
      <li>ğŸ‰ æ€§åˆ¥æ­æ›‰å¾Œï¼Œå¾æ­£ç¢ºç®±å­æŠ½å‡ºä¸€ä½å¹¸é‹å¾—ä¸»</li>
      <li>ğŸ¼ çŒœéŒ¯ç®±å­çš„é‡‘é¡å…¨éƒ¨è®Šæˆå¥¶ç²‰éŒ¢</li>
    </ul>
  </section>

  <!-- Navigation -->
  <nav class="bottom-nav">
    <a routerLink="/clues" class="nav-item">
      <span class="nav-icon">ğŸ”</span>
      <span>ç·šç´¢</span>
    </a>
    <a routerLink="/participants" class="nav-item">
      <span class="nav-icon">ğŸ‘¥</span>
      <span>åƒèˆ‡è€…</span>
    </a>
  </nav>
</div>
